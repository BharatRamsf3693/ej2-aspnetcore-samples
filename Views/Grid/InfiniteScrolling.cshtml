@{
    ViewData["Title"] = "VirtualScrolling";
}

<h2>VirtualScrolling</h2>

@section ControlsSection{

    <style>
            .image { position: absolute; background-repeat: no-repeat; 
             background-image: url('/scripts/Images/Employees/spinner.gif'); 
             background-position: center; width: 16px; height: 28px; }

    .e-bigger .image {
        height: 36px;
    }

    #popup {
        position: absolute;
        background-color: transparent;
        display: none;
        z-index: 100;
    }
        .div-button {
            margin: 5px 5px 5px 0;
        }
    </style>

    <div class="control-section">
        <div class="row">
            <table>
                <tr>
                    <td style="padding:15px" colspan='2'>
                        <span>
                            <ejs-button id="generate" cssClass="e-info" content="Load 100K Data"></ejs-button>
                            <span id="popup">
                                <span id="gif" class="image"></span>
                            </span>
                        </span>
                        
                    </td>
                </tr>
            </table>
           
        </div>

        <div>
            <ejs-grid id="VirtualGrid" height="400" dataBound="hide" enableInfiniteScrolling="true">
            <e-grid-pagesettings pageSize="50"></e-grid-pagesettings>
                <e-grid-columns>
                    <e-grid-column field="FIELD1" headerText="PlayerName" width="140"></e-grid-column>
                    <e-grid-column field="FIELD2" headerText="Year" textAlign="Right" width="120"></e-grid-column>
                    <e-grid-column field="FIELD3" headerText="Stint" textAlign="Right" width="120"></e-grid-column>
                    <e-grid-column field="FIELD4" headerText="TMID" textAlign="Right" width="120"></e-grid-column>
                    <e-grid-column field="FIELD5" headerText="LGID" textAlign="Right" width="120"></e-grid-column>
                    <e-grid-column field="FIELD6" headerText="GP" textAlign="Right" width="120"></e-grid-column>
                </e-grid-columns>
            </ejs-grid>
        </div>
        </div>

    <script>
        var virtualData = [], date1 = null, date2 = null, flag = true;
        var names = ['hardire', 'abramjo01', 'aubucch01', 'Hook', 'Rumpelstiltskin', 'Belle', 'Emma', 'Regina', 'Aurora', 'Elsa',
            'Anna', 'Snow White', 'Prince Charming', 'Cora', 'Zelena', 'August', 'Mulan', 'Graham', 'Discord', 'Will', 'Robin Hood',
            'Jiminy Cricket', 'Henry', 'Neal', 'Red', 'Aaran', 'Aaren', 'Aarez', 'Aarman', 'Aaron', 'Aaron-James', 'Aarron', 'Aaryan', 'Aaryn',
            'Aayan', 'Aazaan', 'Abaan', 'Abbas', 'Abdallah', 'Abdalroof', 'Abdihakim', 'Abdirahman', 'Abdisalam', 'Abdul', 'Abdul-Aziz',
            'Abdulbasir', 'Abdulkadir', 'Abdulkarem', 'Abdulkhader', 'Abdullah', 'Abdul-Majeed', 'Abdulmalik', 'Abdul-Rehman', 'Abdur',
            'Abdurraheem', 'Abdur-Rahman', 'Abdur-Rehmaan', 'Abel', 'Abhinav', 'Abhisumant', 'Abid', 'Abir', 'Abraham', 'Abu', 'Abubakar',
            'Ace', 'Adain', 'Adam', 'Adam-James', 'Addison', 'Addisson', 'Adegbola', 'Adegbolahan', 'Aden', 'Adenn', 'Adie', 'Adil', 'Aditya',
            'Adnan', 'Adrian', 'Adrien', 'Aedan', 'Aedin', 'Aedyn', 'Aeron', 'Afonso', 'Ahmad', 'Ahmed', 'Ahmed-Aziz', 'Ahoua', 'Ahtasham',
            'Aiadan', 'Aidan', 'Aiden', 'Aiden-Jack', 'Aiden-Vee'];
        document.getElementById("generate").addEventListener('click', function () {
            var grid = document.getElementById("VirtualGrid").ej2_instances[0]
            if (!virtualData.length) {
                grid.showSpinner();
                document.getElementById('generate').ej2_instances[0].disabled = true;
                dataSource();
                grid.hideSpinner();
                grid.dataSource = virtualData;
            }
        })
        function hide(args) {
            if (flag) {
                flag = false;
            }
        }
        function dataSource() {
            for (var i = 0; i < 100000; i++) {
                virtualData.push({
                    'FIELD1': names[Math.floor(Math.random() * names.length)],
                    'FIELD2': 1967 + (i % 10),
                    'FIELD3': Math.floor(Math.random() * 200),
                    'FIELD4': Math.floor(Math.random() * 100),
                    'FIELD5': Math.floor(Math.random() * 2000),
                    'FIELD6': Math.floor(Math.random() * 1000)
                });
            }
        }
    </script>
}
@section ActionDescription{
    <div id="action-description">
        <p>
            This sample demonstrates the Grid component with the Infinite scrolling feature. You can use the scrollbar or navigation keys or the mouse wheel to perform the infinite scroll action. Click the button at the top of the Grid
            to load data source and scroll the Grid content vertically to load rows.
        </p>
    </div>
}

@section Meta{
    <meta name="description" content="This example demonstrates the Infinite Scrolling in ASP.NET Core Data Grid control. Explore here for more details."/>
}

@section Description{
    <div id="description">
        <p>

            The Grid Infinite scrolling, allows to load data in lazy loading concept, which means the buffer
            data is loaded only when the scrollbar reaches the end of the scroller. To enable Infinite
            scrolling, set <code>enableInfiniteScrolling</code> property as <code>true</code>.
        </p>


        <p>
            Note: The <code>height</code> property must be defined when enabling <code>enableInfiniteScrolling</code>.
        </p>
    </div>
}
@section Title{
    <title>ASP.NET Core Data Grid Infinite Scrolling Example - Syncfusion Demos </title>
}
@section Header{
    <h1 class='sb-sample-text'>Example of Infinite Scrolling in ASP.NET Core Data Grid Control</h1>
}